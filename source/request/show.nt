import {
  core.show {Show, show},
  core.text {join},
  this.header.show {show-header},
  this.request {Request, request},
  this.request-method.show {show-request-method},
}

define show-request(r: request): text {
  let Request of {method, path, protocol-version, fields, body} = r in
  join([
    show-request-method(method),
    *" ",
    path,
    *" ",
    protocol-version,
    *"\r\n",
    show-header(fields),
    *"\r\n",
    body,
  ])
}

constant as-show: show(request) {
  Show of {show = show-request}
}
